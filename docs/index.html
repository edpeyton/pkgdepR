<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="An R package for (statically) determining and visualizing the intra-package and inter-package function dependencies.">
<title>Statically Determine Function Dependencies • pkgdepR</title>
<script src="deps/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Statically Determine Function Dependencies">
<meta property="og:description" content="An R package for (statically) determining and visualizing the intra-package and inter-package function dependencies.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">pkgdepR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/pkgdepR.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="pkgdepr">pkgdepR<a class="anchor" aria-label="anchor" href="#pkgdepr"></a><img src="articles/hexsticker.png" align="right" style="width:25%">
</h1></div>

</div>
<div class="section level1">
<h1 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h1>
<p> Have you ever wanted to visualize dependencies between functions for a group of R packages you have developed?</p>
<p>Then try using <code>{pkgdepR}</code>!</p>
<p><code>{pkgdepR}</code> takes any number of (correctly compiled) R packages and finds the links between all of the function in those namespaces.</p>
<div class="section level2">
<h2 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a>
</h2>
<div class="section level3">
<h3 id="why-create-pkgdepr">Why create <code>{pkgdepR}</code>?<a class="anchor" aria-label="anchor" href="#why-create-pkgdepr"></a>
</h3>
<p><code>{pkgdepR}</code> was created to solve a particular problem I had faced when developing interrelated R packages within organizations. Oftentimes, I would want to see (visually) how all the functions in one package interacted with all the functions in another package.</p>
<p>This was particularly useful in managing the function dependencies across a large code base of R packages.</p>
</div>
<div class="section level3">
<h3 id="how-does-pkgdepr-work">How does <code>{pkgdepR}</code> work?<a class="anchor" aria-label="anchor" href="#how-does-pkgdepr-work"></a>
</h3>
<p><code>{pkgdepR}</code> simply takes as an argument a vector of package names (that should already be on the search path) and explores how each of the functions in each of the namespaces interact. It does this in two stages:</p>
<ul>
<li>Getting all intra-package function dependencies for each package; <em>and</em><br>
</li>
<li>Getting all inter-package function dependencies for each combination of packages.</li>
</ul>
<p>Each defined name in a particular package’s namespace that is also a function is then decomposed. From this decomposition, if any function is found to be called within its contents, then a link is created. To properly identify distinct name calls, a search is done for a package tag preceding the name (i.e. <code>::</code>). If no tag exists, then a search for an imported function is conducted. On the other hand, if the function name is already declared in the primary namespace, then it is obviously that function being called.</p>
<p>If a function is ambiguously called (without a package tag or not being explicitly imported from another namespace) then it is deliberately ignored in the linkage. This is because the linkage would be environment-dependent and would change depending on the contents of the search path in that particular session.</p>
</div>
<div class="section level3">
<h3 id="s3-methods-for-pkgdepr-objects">S3 methods for <code>{pkgdepR}</code> objects<a class="anchor" aria-label="anchor" href="#s3-methods-for-pkgdepr-objects"></a>
</h3>
<p>The main wrapper function for <code>{pkgdepR}</code> is <code>pkgdepR::deps(...)</code> which returns an object of class <code>pkgdepR</code>. An S3 method has been created for objects of class <code>pkgdepR</code> so they can be easily plotted. See <code><a href="reference/plot.pkgdepR.html">?pkgdepR::plot.pkgdepR</a></code> for further details.</p>
<p><code>{pkgdepR}</code> makes use of the fantastic <a href="https://github.com/datastorm-open/visNetwork" class="external-link">visNetwork</a> package for creating an interactive network visualization of the functions present in R packages.</p>
<p>All implemented methods for this class are:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/methods.html" class="external-link">methods</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"pkgdepR"</span><span class="op">)</span>
<span class="co">#&gt; [1] plot    print   summary</span>
<span class="co">#&gt; see '?methods' for accessing help and source code</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="caveats">Caveats<a class="anchor" aria-label="anchor" href="#caveats"></a>
</h2>
<p>The links between functions are determined <strong>statically</strong>, meaning the dependencies are identified without executing any code. As such, any functions that are defined dynamically at run-time will not be picked up. In the example below, <code>foo()</code> will be picked up as it is declared in the package’s namespace. However, <code>bar()</code> will not be picked up as it is only defined at run-time when <code>foo()</code> is called.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># @title foo function</span>
<span class="co"># @export</span>
<span class="va">foo</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="co"># - this will be picked up!</span>

  <span class="va">bar</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="co"># - this won't be picked up!</span>
  
  <span class="op">}</span>
  
  <span class="fu">bar</span><span class="op">(</span><span class="op">)</span>

<span class="op">}</span></code></pre></div>
<p>Similarly, there can be cases where linkages are created that may not occur at run-time. Let’s add to the previous example, by adding a function <code>bar()</code> declared in the package namespace we are interested in.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># @title bar function</span>
<span class="co"># @export</span>
<span class="va">bar</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span> <span class="co"># - this will be picked up!</span>

<span class="op">}</span></code></pre></div>
<p>Then, statically, it appears that <code>foo()</code> is calling the <code>bar()</code> from the namespace we are interested in. However, at run-time, we know this is <strong>not</strong> the case, as <code>bar()</code> is clearly defined locally and it is the local function that is called. In this instance, <code>pkgdepR</code> will show a link between <code>package::foo()</code> and <code>package::bar()</code> when no real run-time dependency exists.</p>
<p>These cases will rarely arise in normal package development, but it is important to be aware of the behaviour nonetheless.</p>
</div>

</div>
<div class="section level1">
<h1 id="how-to-use">How to use<a class="anchor" aria-label="anchor" href="#how-to-use"></a>
</h1>
<p>See <a href="articles/pkgdepR.html" class="external-link">Get started</a>.</p>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<p><a href="https://github.com/edpeyton" class="external-link">Ed Peyton</a></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pkgdepR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ed Peyton <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=pkgdepR" class="external-link"><img src="http://cranlogs.r-pkg.org/badges/grand-total/pkgdepR"></a></li>
<li><a href="https://github.com/edpeyton/pkgdepR/actions/" class="external-link"><img src="https://github.com/edpeyton/pkgdepR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://CRAN.R-project.org/package=pkgdepR" class="external-link"><img src="https://www.r-pkg.org/badges/version/pkgdepR" alt="CRAN status"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Source</h2>
<ul class="list-unstyled">
<a href="https://github.com/edpeyton/pkgdepR" class="external-link" target = "_blank">
    <span class="fab fa-github fa-lg" style="color:black;"></span>

  </a>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ed Peyton.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
